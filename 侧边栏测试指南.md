# 侧边栏功能测试指南

## 测试前准备

### 检查Chrome版本
1. 打开Chrome浏览器
2. 进入 `chrome://version/`
3. 确认版本号为 **114或更高**

如果版本较低，请更新Chrome浏览器或使用Chrome Canary版本进行测试。

## 安装和配置

### 1. 安装插件
1. 打开 `chrome://extensions/`
2. 开启"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择项目根目录
5. 确认插件安装成功

### 2. 验证权限
确认插件具有以下权限：
- ✅ bookmarks
- ✅ storage
- ✅ tabs
- ✅ activeTab
- ✅ notifications
- ✅ contextMenus
- ✅ **sidePanel** (新增)

## 功能测试

### 测试1：基本侧边栏打开
1. **点击插件图标**（在Chrome工具栏中）
2. **预期结果**：书签管理器在浏览器侧边栏中打开（通常在右侧）
3. **验证要点**：
   - 侧边栏宽度可调整
   - 界面显示完整
   - 功能按钮都可见

### 测试2：侧边栏持久性
1. 打开侧边栏后，导航到不同网页
2. **预期结果**：侧边栏保持打开状态
3. **验证要点**：
   - 切换标签页时侧边栏不关闭
   - 访问新网站时侧边栏保持显示
   - 侧边栏内容和状态保持不变

### 测试3：侧边栏功能完整性
在侧边栏模式下测试所有功能：
- ✅ 搜索书签
- ✅ 添加当前页面为书签
- ✅ 导入HTML书签文件
- ✅ 切换显示模式（插件书签/Chrome书签）
- ✅ 右键菜单操作
- ✅ 编辑书签和文件夹
- ✅ 删除操作

### 测试4：兼容性回退
如果您的Chrome版本低于114：
1. **点击插件图标**
2. **预期结果**：以传统弹窗模式打开
3. **验证要点**：所有功能正常工作

## 常见问题排查

### Q: 点击图标没有打开侧边栏
**解决方案**：
1. 检查Chrome版本是否为114+
2. 重新加载插件：在扩展管理页面点击刷新按钮
3. 检查是否有JavaScript错误：F12打开开发者工具查看控制台

### Q: 侧边栏显示不完整
**解决方案**：
1. 调整侧边栏宽度（拖拽边界）
2. 检查CSS样式是否正确加载
3. 重新加载插件

### Q: 侧边栏功能不工作
**解决方案**：
1. 检查权限设置是否包含`sidePanel`
2. 查看后台脚本是否有错误
3. 确认`setPanelBehavior`设置正确

### Q: 无法在侧边栏中进行操作
**解决方案**：
1. 检查网页的内容安全政策（CSP）
2. 确认事件监听器正常绑定
3. 查看浏览器控制台错误信息

## 调试方法

### 侧边栏页面调试
1. 打开侧边栏
2. 在侧边栏内容区域右键点击
3. 选择"检查"
4. 在开发者工具中调试

### 后台脚本调试
1. 进入 `chrome://extensions/`
2. 找到书签管理器插件
3. 点击"检查视图"中的"背景页"
4. 在控制台中查看日志和错误

## 反馈和报告

如果遇到问题，请提供以下信息：
- Chrome版本号
- 操作系统信息
- 具体错误描述
- 控制台错误信息（如有）
- 重现步骤

这将帮助我们快速定位和解决问题。 